<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nexus Mocktails | Flavors</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <style>
    /* floating checkout button */
    .cart-fab{
      position:fixed; right:20px; bottom:20px;
      display:inline-flex; align-items:center; gap:10px;
      padding:12px 18px; border-radius:999px;
      background:linear-gradient(90deg,#ff6a8c,#ffa55b);
      color:#fff; text-decoration:none; font-weight:800;
      box-shadow:0 14px 28px rgba(255,122,122,.28);
      transition:transform .08s ease, box-shadow .2s ease;
      z-index:50;
    }
    .cart-fab:hover{ transform:translateY(-1px); box-shadow:0 18px 34px rgba(255,122,122,.32) }
    .cart-fab .badge{
      min-width:22px; height:22px; border-radius:999px;
      display:inline-grid; place-items:center; background:#0f172a; color:#fff; font-size:12px; font-weight:800;
    }
    .cart-fab.disabled{ opacity:.5; pointer-events:none }

    :root{
      --pink:#ff4f70;
      --yellow:#ffd93b;
      --blue:#4a90e2;
      --ink:#0f172a;
      --text:#1e293b;
      --muted:#64748b;
      --card:#ffffff;
      --bg:#ffffff;
      --ring:#eef2f7;
    }
    *{box-sizing:border-box}
    html,body{margin:0}
    body{
      font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:var(--bg);
    }

    /* nav */
    .nav{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--ring);z-index:10}
    .nav__inner{
      max-width:1200px;margin:0 auto;padding:18px 24px;
      display:flex;align-items:center;justify-content:space-between;
    }
    .brand{display:flex;align-items:center;gap:12px;font-weight:700;color:var(--ink);text-decoration:none}
    .brand__logo{
      width:36px;height:36px;border-radius:50%;
      background:linear-gradient(135deg,#ff6a6a,#ffa56b);
      display:grid;place-items:center;color:#fff;
      box-shadow:0 6px 20px rgba(255,106,106,.35);
    }
    .brand__logo svg{width:18px;height:18px}
    .nav__links{display:flex;gap:36px}
    .nav__links a{
      text-decoration:none;color:var(--muted);font-weight:600
    }
    .nav__links a.active{color:var(--ink)}

    /* page header */
    .wrap{max-width:1200px;margin:0 auto;padding:56px 24px 28px}
    .title{
      margin:0 0 8px;font-size:40px;line-height:1.15;font-weight:800;letter-spacing:.2px
    }
    .title .pink{color:var(--pink)}
    .title .yellow{color:var(--yellow)}
    .lead{color:#526077;font-size:18px;line-height:1.8;margin:0}

    /* grid */
    .grid{
      max-width:1200px;margin:24px auto 80px;padding:0 24px;
      display:grid;grid-template-columns:repeat(3,1fr);gap:24px
    }
    @media (max-width:1024px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:640px){ .grid{grid-template-columns:1fr} }

    .card{
      background:var(--card);border:1px solid var(--ring);border-radius:20px;overflow:hidden;
      box-shadow:0 10px 24px rgba(2,8,23,.08);
      display:flex;flex-direction:column
    }
    .card__img{
      width:100%;aspect-ratio:4/3;object-fit:cover;display:block
    }
    .card__body{padding:18px 18px 16px}
    .card__title{margin:0 0 6px;font-size:20px;font-weight:800;color:var(--ink)}
    .badge{
      display:inline-block;margin-bottom:10px;padding:6px 10px;border-radius:999px;
      font-weight:700;font-size:12px;color:#fff;background:linear-gradient(90deg,#ff6a8c,#ffa55b)
    }
    .card__text{margin:0 0 14px;color:#526077;line-height:1.7}
    .card__row{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .price{font-weight:800;color:var(--ink)}
    .btn{
      display:inline-flex;align-items:center;gap:10px;
      background:linear-gradient(90deg,#ff6a8c,#ffa55b);
      color:#fff;text-decoration:none;font-weight:700;font-size:14px;
      padding:10px 16px;border-radius:999px;
      box-shadow:0 12px 26px rgba(255,122,122,.28);
      transition:transform .08s ease, box-shadow .2s ease;
    }
    .btn:hover{transform:translateY(-1px);box-shadow:0 16px 30px rgba(255,122,122,.32)}
    .btn svg{width:14px;height:14px}

    /* footer note */
    .note{max-width:1200px;margin:0 auto 56px;padding:0 24px;color:#708096}

    /* tiny toast */
    .toast{
      position:fixed;left:50%;bottom:22px;transform:translateX(-50%);
      background:#0f172a;color:#fff;padding:10px 14px;border-radius:999px;
      box-shadow:0 10px 24px rgba(2,8,23,.25);font-weight:700;font-size:14px;
      opacity:0;pointer-events:none;transition:opacity .2s ease, transform .2s ease;
    }
    .toast.show{opacity:1;transform:translateX(-50%) translateY(-4px)}

    /* theme palette switch */
    :root[data-theme="mocktails"]{
      --pink:#ff4f70; --yellow:#ffd93b; --blue:#4a90e2;
      --ink:#0f172a; --text:#1e293b; --muted:#64748b;
      --card:#ffffff; --bg:#ffffff; --ring:#eef2f7;
    }
    :root[data-theme="cocktails"]{
      --pink:#e83e8c; --yellow:#ffc107; --blue:#1f7ae0;
      --ink:#e6edf7; --text:#cfd9e7; --muted:#9fb0c6;
      --card:#0f172a; --bg:#0b1220; --ring:#1e293b;
    }

    /* smooth color changes */
    *{transition: background-color .35s ease, color .35s ease, border-color .35s ease, box-shadow .35s ease}

    /* dark tweaks */
    [data-theme="cocktails"] .card{background:var(--card); border-color:var(--ring)}
    [data-theme="cocktails"] .card__title{color:var(--ink)}
    [data-theme="cocktails"] .card__text{color:#c7d2e1}
    [data-theme="cocktails"] .nav{background:var(--card); border-bottom-color:var(--ring)}
    [data-theme="cocktails"] body{background:var(--bg); color:var(--text)}

    /* toggle button */
    .theme-toggle{
      position:fixed; right:20px; top:20px; z-index:60;
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px; border-radius:999px; font-weight:800;
      background:linear-gradient(90deg,#ff6a8c,#ffa55b); color:#fff; text-decoration:none;
      box-shadow:0 12px 26px rgba(255,122,122,.28);
    }
    .theme-toggle:hover{transform:translateY(-1px)}

    /* glow spotlight on the toggle when in mocktails */
    .theme-toggle.pulse{
      box-shadow:
        0 0 0 0 rgba(255,106,140,.45),
        0 0 0 10px rgba(255,106,140,.12),
        0 0 0 22px rgba(255,106,140,.06);
      animation:pulseGlow 1.6s ease-in-out infinite;
    }
    @keyframes pulseGlow{
      0%{ box-shadow:
        0 0 0 0 rgba(255,106,140,.45),
        0 0 0 10px rgba(255,106,140,.12),
        0 0 0 22px rgba(255,106,140,.06) }
      70%{ box-shadow:
        0 0 0 10px rgba(255,106,140,.0),
        0 0 0 22px rgba(255,106,140,.0),
        0 0 0 36px rgba(255,106,140,.0) }
      100%{ box-shadow:
        0 0 0 0 rgba(255,106,140,.0),
        0 0 0 10px rgba(255,106,140,.0),
        0 0 0 22px rgba(255,106,140,.0) }
    }

    /* burst overlay */
    #themeBurst{position:fixed; inset:0; pointer-events:none; z-index:55; opacity:0; transform:scale(.2)}
    #themeBurst.show{animation:theme-burst .7s ease forwards}
    @keyframes theme-burst{
      0%{opacity:.9; transform:scale(.2)}
      100%{opacity:0; transform:scale(2.4)}
    }

    /* Cocktails pill hint visible only in mocktails */
    .booze-pill{
      position:fixed; right:20px; top:70px; z-index:65;
      display:none; align-items:center; gap:10px;
      padding:8px 12px; border-radius:999px; font-weight:900; font-size:13px;
      background:linear-gradient(90deg,#111827,#334155); color:#fff;
      box-shadow:0 12px 26px rgba(2,8,23,.28);
      cursor:pointer; user-select:none;
      transform:translateY(0);
      animation:floaty 2.2s ease-in-out infinite;
    }
    .booze-pill .tag{
      display:inline-grid; place-items:center; min-width:22px; height:22px; border-radius:999px;
      background:#ff4f70; color:#fff; font-size:12px; font-weight:900;
      box-shadow:0 8px 20px rgba(255,79,112,.28);
    }
    .booze-pill.show{ display:inline-flex }
    @keyframes floaty{
      0%{ transform:translateY(0) }
      50%{ transform:translateY(-4px) }
      100%{ transform:translateY(0) }
    }
  </style>
</head>
<body>

<header class="nav">
  <div class="nav__inner">
    <a class="brand" href="index.html">
      <div class="brand__logo" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M6 14c4-7 8-7 12-6-2 4-2 8-6 12-1 1-3 1-6 0 0-3 0-5 0-6z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 15l1.5 1.5" stroke="white" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </div>
      <span>Nexus Mocktails</span>
    </a>

    <nav class="nav__links">
      <a href="flavors.html" class="active">Flavors</a>
      <a href="howitworks.html">How It Works</a>
      <a href="about.html">About Us</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<section class="wrap">
  <h1 class="title">
    Explore our <span class="pink" id="wordA">Fresh</span> <span class="yellow" id="wordB">Flavors</span>
  </h1>
  <p class="lead">Pick a favorite and enjoy a chilled moment</p>
</section>

<!-- dynamic grid -->
<section class="grid" id="menuGrid"></section>

<p class="note wrap">Prices are for demo only</p>

<!-- tiny toast -->
<div id="toast" class="toast" role="status" aria-live="polite">Added to cart</div>

<!-- theme elements -->
<div id="themeBurst" aria-hidden="true"></div>
<button id="themeToggle" class="theme-toggle" type="button">
  <span id="themeIcon">🥤</span>
  <span id="themeText">Mocktails</span>
</button>

<!-- cocktails hint pill -->
<div id="boozePill" class="booze-pill" role="button" tabindex="0" aria-label="Open cocktails menu">
  <span>Tap for Cocktails</span>
  <span class="tag">18+</span>
</div>

<!-- checkout button -->
<a id="cartFab" class="cart-fab disabled" href="order.html" aria-disabled="true">
  <span class="badge" id="fabCount">0</span>
  Checkout
</a>

<script>
  const CART_KEY = 'nm_cart';
  const THEME_KEY = 'nm_theme';

  const getCart  = () => JSON.parse(localStorage.getItem(CART_KEY) || '[]');
  const setCart  = c  => localStorage.setItem(CART_KEY, JSON.stringify(c));

  const fmtP = n => 'P' + Number(n).toFixed(0);

  // menus
  const MENUS = {
    mocktails: [
      {img:'images/mocktail.webp',      name:'Citrus Sunrise',      price:32, note:'Orange and pineapple with a mint finish',   badge:'Bestseller', emoji:'🍊'},
      {img:'images/strawberrylime.webp',name:'Strawberry Lime',     price:34, note:'Sweet strawberry with zesty lime',           badge:'New',        emoji:'🍓'},
      {img:'images/mojitotwist.webp',   name:'Mojito Twist',        price:30, note:'Lime and mint with a cool sparkle',          badge:'Cool',       emoji:'🍃'},
      {img:'images/berryblaze.webp',    name:'Berry Bliss',         price:33, note:'Mixed berries with a soft fizz',             badge:'Sweet',      emoji:'🫐'},
      {img:'images/mangowave.webp',     name:'Mango Wave',          price:35, note:'Mango and passion fruit with chill vibes',   badge:'Tropical',   emoji:'🥭'},
      {img:'images/pearfizz.webp',      name:'Pear Fizz',           price:31, note:'Crisp pear with gentle sparkle',             badge:'Light',      emoji:'🍐'}
    ],
    cocktails: [
      {img:'images/longiland.webp',   name:'Long Island',      price:38, note:'Lime and mint over ice',                     badge:'Classic',    emoji:'🍹'},
      {img:'images/matsieng.webp',    name:'Matsieng Footprint',      price:40, note:'Mango and lime with a sunny kick',           badge:'Popular',    emoji:'🥭'},
      {img:'images/after%20nine.webp',name:'After Nine',price:42, note:'Strawberry and citrus with salt rim',        badge:'Bright',     emoji:'🍓'},
      {img:'images/Okavango.webp',    name:'Okavango Ripple',      price:36, note:'Berries with lively bubbles',                badge:'New',        emoji:'🫐'},
      {img:'images/A1.webp',      name:'The A1',        price:37, note:'Orange and pineapple with a bold twist',     badge:'Zesty',      emoji:'🍊'},
      {img:'images/StrawberryD.webp',      name:'Strawberry Daiquiri',         price:35, note:'Pear sparkle with a crisp finish',           badge:'Light',      emoji:'🍐'}
    ]
  };

  // build a card
  function cardHTML(it){
    return `
    <article class="card">
      <img class="card__img" src="${it.img}" alt="${it.name}" />
      <div class="card__body">
        <span class="badge">${it.badge}</span>
        <h3 class="card__title">${it.name}</h3>
        <p class="card__text">${it.note}</p>
        <div class="card__row">
          <span class="price">${fmtP(it.price)}</span>
          <a class="btn add" href="#"
             data-name="${it.name}"
             data-price="${it.price}"
             data-note="${it.note}"
             data-emoji="${it.emoji}">
            Add
            <svg viewBox="0 0 24 24" fill="none"><path d="M5 12h14M13 6l6 6-6 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </a>
        </div>
      </div>
    </article>`;
  }

  // render menu cards
  const grid = document.getElementById('menuGrid');
  function renderMenu(kind){
    const items = MENUS[kind] || MENUS.mocktails;
    grid.innerHTML = items.map(cardHTML).join('');
    bindAddButtons();
    updateFab();
  }

  // header words
  const wordA = document.getElementById('wordA');
  const wordB = document.getElementById('wordB');
  function setTitleForTheme(kind){
    if(kind === 'cocktails'){
      wordA.textContent = 'Bold';
      wordB.textContent = 'Cocktails';
    }else{
      wordA.textContent = 'Fresh';
      wordB.textContent = 'Flavors';
    }
  }

  // add to cart
  function addToCart(item){
    const cart = getCart();
    const existing = cart.find(x => x.name === item.name);
    if(existing){ existing.qty += 1; }
    else{ cart.push({ ...item, qty: 1 }); }
    setCart(cart);
  }

  function flashToast(msg){
    const t = document.getElementById('toast');
    t.textContent = msg || 'Added to cart';
    t.classList.add('show');
    setTimeout(()=> t.classList.remove('show'), 900);
  }

  function bindAddButtons(){
    document.querySelectorAll('.add').forEach(btn=>{
      btn.addEventListener('click', e=>{
        e.preventDefault();
        addToCart({
          name:  btn.dataset.name,
          price: Number(btn.dataset.price),
          note:  btn.dataset.note || '',
          emoji: btn.dataset.emoji || '🥤'
        });
        flashToast(`${btn.dataset.name} added`);
        const old = btn.textContent;
        btn.textContent = 'Added';
        setTimeout(()=> btn.textContent = old, 700);
      });
    });
  }

  // fab count
  function getCartCount(){
    try{
      const cart = JSON.parse(localStorage.getItem('nm_cart') || '[]');
      return cart.reduce((s,it)=> s + Number(it.qty || 1), 0);
    }catch(e){ return 0; }
  }
  function updateFab(){
    const n = getCartCount();
    const fab = document.getElementById('cartFab');
    const badge = document.getElementById('fabCount');
    if(!fab || !badge) return;
    badge.textContent = n;
    if(n > 0){
      fab.classList.remove('disabled');
      fab.setAttribute('aria-disabled','false');
    }else{
      fab.classList.add('disabled');
      fab.setAttribute('aria-disabled','true');
    }
  }
  window.addEventListener('storage', e=>{
    if(e.key === 'nm_cart') updateFab();
  });

  // theme toggle, burst, spotlight, and pill
  const burst = document.getElementById('themeBurst');
  const btn   = document.getElementById('themeToggle');
  const tIcon = document.getElementById('themeIcon');
  const tText = document.getElementById('themeText');
  const pill  = document.getElementById('boozePill');

  function setTheme(name){
    document.documentElement.setAttribute('data-theme', name);
    localStorage.setItem(THEME_KEY, name);
    const isCocktails = name === 'cocktails';
    tIcon.textContent = isCocktails ? '🍸' : '🥤';
    tText.textContent = isCocktails ? 'Cocktails' : 'Mocktails';

    // spotlight and pill only in mocktails
    btn.classList.toggle('pulse', !isCocktails);
    pill.classList.toggle('show', !isCocktails);

    setTitleForTheme(name);
    renderMenu(name);
  }

  function burstFor(name){
    return name === 'cocktails'
      ? 'radial-gradient(circle at 70% 30%, rgba(31,122,224,.9), rgba(232,62,140,.9))'
      : 'radial-gradient(circle at 70% 30%, rgba(255,217,59,.9), rgba(255,106,140,.9))';
  }

  btn.addEventListener('click', ()=>{
    const cur  = localStorage.getItem(THEME_KEY) || 'mocktails';
    const next = cur === 'mocktails' ? 'cocktails' : 'mocktails';
    burst.style.background = burstFor(next);
    burst.classList.remove('show'); void burst.offsetWidth; burst.classList.add('show');
    setTheme(next);
  });

  // pill click or Enter key
  pill.addEventListener('click', ()=>{
    burst.style.background = burstFor('cocktails');
    burst.classList.remove('show'); void burst.offsetWidth; burst.classList.add('show');
    setTheme('cocktails');
  });
  pill.addEventListener('keydown', e=>{
    if(e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      pill.click();
    }
  });

  // first paint
  const firstTheme = localStorage.getItem(THEME_KEY) || 'mocktails';
  setTheme(firstTheme);
  updateFab();
</script>

</body>
</html>

